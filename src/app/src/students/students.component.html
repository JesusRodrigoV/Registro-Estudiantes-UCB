@defer {
  <div class="table-container">
    <h2>Lista de Estudiantes Registrados</h2>
    <table class="students-table">
      <thead #encabezado>
        <tr>
          @for (header of headerKeys; track header) {
            <th>{{ header }}</th>
          }
        </tr>
      </thead>
      <tbody>
        @defer (on viewport(encabezado)) {
          @if (students$ | async; as students) {
            @for (student of students; track student.id) {
              <tr>
                <td>{{ student.nombre }}</td>
                <td>{{ student.apellidoPaterno }}</td>
                <td>{{ student.apellidoMaterno }}</td>
                <td>{{ student.fechaNacimiento }}</td>
                <td>{{ student.ci }}</td>
                <td>{{ student.direccion }}</td>
                <td>{{ student.numCelular }}</td>
                <td>{{ student.email }}</td>
                <td>{{ student.carrera }}</td>
              </tr>
            }
          }
        } @placeholder {
          <p>Del placeholder</p>
          <mat-spinner mode="indeterminate" diameter="75"></mat-spinner>
        } @loading (minimum 1s; after 500ms) {
          <mat-spinner mode="indeterminate" diameter="75"></mat-spinner>
        } @error {
          <div class="error-container">
            <p>Error al renderizar los datos de estudiantes</p>
          </div>
        }
      </tbody>
    </table>
  </div>
}
